groups:
  - name: Container Image
    description: Image to be used for container
  - name: General Settings
    description: General Deployment Settings
  - name: App Configuration
    description: App Specific Config Options
  - name: Networking and Services
    description: Configure Network and Services for Container
  - name: Storage and Persistence
    description: Persist and Share Data that is Separate from the Container
  - name: Ingress
    description: Ingress Configuration
  - name: Security and Permissions
    description: Configure Security Context and Permissions
  - name: Resources and Devices
    description: "Specify Resources/Devices to be Allocated to Workload"
  - name: Middlewares
    description: Traefik Middlewares
  - name: Metrics
    description: Metrics
  - name: VPN
    description: VPN
  - name: Addons
    description: Addon Configuration
  - name: Advanced
    description: Advanced Configuration
  - name: Documentation
    description: Documentation
portals:
  open:
    protocols:
      - "$kubernetes-resource_configmap_portal_protocol"
    host:
      - "$kubernetes-resource_configmap_portal_host"
    ports:
      - "$kubernetes-resource_configmap_portal_port"
questions:
  - variable: global
    label: Global Settings
    group: "General Settings"
    schema:
      type: dict
      hidden: true
      attrs:
        - variable: isSCALE
          label: Flag this is SCALE
          schema:
            type: boolean
            default: true
            hidden: true
  - variable: controller
    group: "General Settings"
    label: ""
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: replicas
          description: Number of desired pod replicas
          label: Desired Replicas
          schema:
            type: int
            required: true
            default: 1
  - variable: customextraargs
    group: "General Settings"
    label: "Extra Args"
    description: "Do not click this unless you know what you are doing"
    schema:
      type: boolean
      default: false
      show_subquestions_if: true
      subquestions:
        - variable: extraArgs
          label: Extra Args
          schema:
            type: list
            default: []
            items:
              - variable: arg
                label: Arg
                schema:
                  type: string
  - variable: netbox
    group: App Configuration
    label: Netbox Configuration
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: allowed_hosts
          label: Allowed Hosts
          description: This is a list of valid fully-qualified domain names (FQDNs) for the NetBox server. NetBox will not permit write access to the server via any other hostnames. The first FQDN in the list will be treated as the preferred name. (127.0.0.1 and ::1) added automatically
          schema:
            type: list
            default: []
            items:
              - variable: allowed_hosts_entry
                label: Allowed Host
                schema:
                  type: string
                  required: true
                  default: ""
        - variable: allowed_urls_schemes
          label: Allowed URL Schemes
          description: URL schemes that are allowed within links in NetBox.
          schema:
            type: list
            default: []
            items:
              - variable: allowed_url_scheme_entry
                label: Allowed URL Scheme
                schema:
                  type: string
                  required: true
                  default: ""
        - variable: admins
          label: Admins
          description: Specify one or more name and email address tuples representing NetBox administrators. These people will be notified of application errors (assuming correct email settings are provided).
          schema:
            type: list
            default: []
            items:
              - variable: admin_entry
                label: Admin
                schema:
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: name
                      label: Name
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: email
                      label: Email
                      schema:
                        type: string
                        required: true
                        default: ""
        - variable: auth_password_validators
          label: Auth Password Validators
          description: Enable any desired validators for local account passwords below. For a list of included validators, please see the Django documentation at https://docs.djangoproject.com/en/stable/topics/auth/passwords/#password-validation.
          schema:
            type: list
            default: []
            items:
              - variable: auth_password_validators_entry
                label: Auth Password Validator
                schema:
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: name
                      label: Name
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: options
                      label: Options
                      schema:
                        type: dict
                        additional_attrs: true
                        attrs:
                          - variable: key
                            label: Key
                            schema:
                              type: string
                              required: true
                              default: ""
                          - variable: value
                            label: Value
                            schema:
                              type: string
                              required: true
                              default: ""
        - variable: banner
          label: Banner
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: login
                label: Login Banner
                description: Text to include on the login page above the login form. HTML is allowed
                schema:
                  type: string
                  default: ""
              - variable: top
                label: Top Banner
                description: Optionally display a persistent banner at the top of every page.
                schema:
                  type: string
                  default: ""
              - variable: bottom
                label: Bottom Banner
                description: Optionally display a persistent banner at the bottom of every page.
                schema:
                  type: string
                  default: ""
        - variable: retention
          label: Retention
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: changelog
                label: Changelog
                description: Maximum number of days to retain logged changes. Set to 0 to retain changes indefinitely.
                schema:
                  type: int
                  default: 90
              - variable: job_result
                label: Job Results
                description: Maximum number of days to retain job results (scripts and reports). Set to 0 to retain job results in the database indefinitely.
                schema:
                  type: int
                  default: 90
        - variable: prefer_ipv4
          label: Prefer IPv4
          description: When determining the primary IP address for a device, IPv6 is preferred over IPv4 by default.
          schema:
            type: boolean
            default: false
        - variable: enforce_global_unique
          label: Enforce Global Unique
          description: Enforcement of unique IP space can be toggled on a per-VRF basis. To enforce unique IP space within the global table
          schema:
            type: boolean
            default: true
        - variable: cors_origin_allow_all
          label: CORS Origin Allow All
          description: If CORS_ORIGIN_ALLOW_ALL is set to True, all origins will be allowed. Otherwise, define a list of allowed origins using either CORS_ORIGIN_WHITELIST or CORS_ORIGIN_REGEX_WHITELIST. For more information, see https://github.com/ottoyiu/django-cors-headers
          schema:
            type: boolean
            default: false
            show_subquestions_if: false
            subquestions:
              - variable: cors_origin_whitelist
                label: CORS Origin Whitelist
                description: Example 127.0.0.1
                schema:
                  type: list
                  default: []
                  items:
                    - variable: cors_origin_whitelist_entry
                      label: CORS Origin Whitelist Entry
                      schema:
                        type: string
                        required: true
                        default: ""
              - variable: cors_origin_regex_whitelist
                label: CORS Origin Regex Whitelist
                description: Example r'^(https?://)?(\w+\.)?example\.com$'
                schema:
                  type: list
                  default: []
                  items:
                    - variable: cors_origin_whitelist_entry
                      label: CORS Origin Regex Whitelist Entry
                      schema:
                        type: string
                        required: true
                        default: ""
        - variable: csrf_trusted_origin
          label: CSRF Trusted Origin
          description: Cross-Site-Request-Forgery-Attack settings. If Netbox is sitting behind a reverse proxy, you might need to set this
          schema:
            type: list
            default: []
            items:
              - variable: csrf_trusted_origin_entry
                label: CSRF Trusted Origin Entry
                schema:
                  type: string
                  required: true
                  default: ""
        - variable: csrf_cookie_name
          label: CSRF Cookie Name
          description: The name to use for the csrf token cookie.
          schema:
            type: string
            default: csrftoken
        - variable: session_cookie_name
          label: Session Cookie Name
          description: The name to use for the session cookie.
          schema:
            type: string
            default: sessionid
        - variable: email
          label: Email
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: server
                label: Server
                schema:
                  type: string
                  default: ""
              - variable: port
                label: Port
                schema:
                  type: int
                  default: 587
              - variable: from_email
                label: From Email
                schema:
                  type: string
                  default: ""
              - variable: username
                label: Username
                schema:
                  type: string
                  default: ""
              - variable: password
                label: Password
                schema:
                  type: string
                  private: true
                  default: ""
              - variable: use_ssl
                label: Use SSL
                schema:
                  type: boolean
                  default: false
              - variable: use_tls
                label: Use TLS
                schema:
                  type: boolean
                  default: true
              - variable: timeout
                label: Timeout
                schema:
                  type: int
                  default: 10
        - variable: exempt_view_permissions
          label: Exempt View Permissions
          description: Exempt certain models from the enforcement of view permissions. Models listed here will be viewable by all users and by anonymous users. List models in the form `<app>.<model>`. Add '*' to this list to exempt all models.
          schema:
            type: list
            default: []
            items:
              - variable: exempt_view_permissions_entry
                label: Exempt View Permission
                schema:
                  type: string
                  required: true
                  default: ""
        - variable: http_proxies
          label: HTTP Proxies
          description: HTTP proxies NetBox should use when sending outbound HTTP requests (e.g. for webhooks).
          schema:
            type: list
            default: []
            items:
              - variable: http_proxy_entry
                label: HTTP Proxy Entry
                schema:
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: key
                      label: Key
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: url
                      label: URL
                      schema:
                        type: string
                        required: true
                        default: ""
        - variable: internal_ips
          label: Internal IPs
          description: IP addresses recognized as internal to the system. The debugging toolbar will be available only to clients accessing NetBox from an internal IP. (127.0.0.1 and ::1) added automatically
          schema:
            type: list
            default: []
            items:
              - variable: internal_ips_entry
                label: Internal IP
                schema:
                  type: string
                  required: true
                  default: ""
        - variable: login_persistence
          label: Login Persistence
          description: Automatically reset the lifetime of a valid session upon each authenticated request. Enables users to remain authenticated to NetBox indefinitely.
          schema:
            type: boolean
            default: false
        - variable: login_required
          label: Login Required
          description: Setting this to true will permit only authenticated users to access any part of NetBox. By default, anonymous users are permitted to access most data in NetBox but not make any changes.
          schema:
            type: boolean
            default: true
        - variable: login_timeout
          label: Login Timeout
          description: The length of time (in seconds) for which a user will remain logged into the web UI before being prompted to re-authenticate.
          schema:
            type: int
            default: 1209600
        - variable: graphql_enabled
          label: Enable GraphQL
          description: Enable GraphQL API.
          schema:
            type: boolean
            default: true
        - variable: maps_url
          label: Maps URl
          description: Maps provider
          schema:
            type: string
            default: https://maps.google.com/?q=
        - variable: max_page_size
          label: Max Page Size
          description: This setting defines the maximum limit of objects an API can request. Setting it to 0 or None will allow an API consumer to request all objects.
          schema:
            type: int
            default: 1000
        - variable: paginate_count
          label: Paginate Count
          description: Determine how many objects to display per page within a list.
          schema:
            type: int
            default: 50
        - variable: powerfeed
          label: Power Feed
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: default_amperage
                label: Default Amperage
                description: The default value for the amperage field when creating new power feeds.
                schema:
                  type: int
                  default: 15
              - variable: default_max_utilization
                label: Default Max Utilization
                description: The default value (percentage) for the max_utilization field when creating new power feeds.
                schema:
                  type: int
                  default: 80
              - variable: default_voltage
                label: Default Voltage
                description: The default value for the voltage field when creating new power feeds.
                schema:
                  type: int
                  default: 120
        - variable: rack
          label: Rack
          description: Rack elevation size defaults, in pixels. For best results, the ratio of width to height should be roughly 10:1.
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: elevation_default_unit_height
                label: Elevation Default Unit Height
                schema:
                  type: int
                  default: 22
              - variable: elevation_default_unit_width
                label: Elevation Default Unit Width
                schema:
                  type: int
                  default: 220
        - variable: napalm
          label: Napalm
          description: Credentials that NetBox will uses to authenticate to devices when connecting via NAPALM.
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: username
                label: Username
                schema:
                  type: string
                  default: ""
              - variable: password
                label: Password
                schema:
                  type: string
                  private: true
                  default: ""
              - variable: timeout
                label: Timeout
                schema:
                  type: int
                  default: 30
              - variable: args
                label: Args
                description: NAPALM optional arguments (see http://napalm.readthedocs.io/en/latest/support/#optional-arguments).
                schema:
                  type: list
                  default: []
                  items:
                    - variable: arg_entry
                      label: Arg Entry
                      schema:
                        type: dict
                        additional_attrs: true
                        attrs:
                          - variable: arg
                            label: Arg
                            schema:
                              type: string
                              required: true
                              default: ""
                          - variable: value
                            label: Value
                            schema:
                              type: string
                              required: true
                              default: ""
        - variable: storage_backend
          label: Storage Backend
          description: By default uploaded media is stored on the local filesystem. Using Django-storages is also supported. Provide the class path of the storage driver in storage_backend and any configuration options in storage_config.
          schema:
            type: string
            default: ""
        - variable: storage_config
          label: Storage Config
          schema:
            show_if: [["storage_backend", "!=", ""]]
            type: list
            default: []
            items:
              - variable: storage_config_entry
                label: Storage Config Entry
                schema:
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: key
                      label: Key
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: value
                      label: Value
                      schema:
                        type: string
                        required: true
                        default: ""
        - variable: rq_default_timeout
          label: RQ Default Timeout
          description: Maximum execution time for background tasks, in seconds.
          schema:
            type: int
            required: true
            default: 300
        - variable: remote_auth
          label: Remote Auth
          description: Remote authentication support
          schema:
            type: dict
            additional_attrs: true
            attrs:
              - variable: enabled
                label: Enabled
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: backend
                      label: Backend
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: header
                      label: Header
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: auto_create_user
                      label: Auto Create User
                      schema:
                        type: boolean
                        default: false
                    - variable: default_groups
                      label: Default Groups
                      schema:
                        type: list
                        default: []
                        items:
                          - variable: default_group_entry
                            label: Default Group
                            schema:
                              type: string
                              required: true
                              default: ""
                    - variable: default_permissions
                      label: Default Permissions
                      schema:
                        type: list
                        default: []
                        items:
                          - variable: default_permissions_entry
                            label: Default Permission Entry
                            schema:
                              type: dict
                              additional_attrs: true
                              attrs:
                                - variable: key
                                  label: Key
                                  schema:
                                    type: string
                                    required: true
                                    default: ""
                                - variable: value
                                  label: Value
                                  schema:
                                    type: string
                                    required: true
                                    default: ""
        - variable: date_time
          label: Date Time
          description: Date/time formatting. See the following link for supported formats https://docs.djangoproject.com/en/stable/ref/templates/builtins/#date
          schema:
            type: dict
            additional_attrs: true
            attrs:
              - variable: date_format
                label: Date Format
                schema:
                  type: string
                  required: true
                  default: N j, Y
              - variable: short_date_format
                label: Short Date Format
                schema:
                  type: string
                  required: true
                  default: Y-m-d
              - variable: time_format
                label: Time Format
                schema:
                  type: string
                  required: true
                  default: g:i a
              - variable: short_time_format
                label: Short Time Format
                schema:
                  type: string
                  required: true
                  default: H:i:s
              - variable: date_time_format
                label: Date Time Format
                schema:
                  type: string
                  required: true
                  default: N j, Y g:i a
              - variable: short_date_time_format
                label: Short Date Time Format
                schema:
                  type: string
                  required: true
                  default: Y-m-d H:i
        - variable: plugins_config
          label: Plugins Config
          description: Plugins configuration settings. These settings are used by various plugins that the user may have installed.
          schema:
            type: list
            default: []
            items:
              - variable: plugin_entry
                label: Plugin Entry
                schema:
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: plugin_name
                      label: Plugin Name
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: enabled
                      label: Enable Plugin
                      schema:
                        type: boolean
                        default: true
                    - variable: config
                      label: Config
                      schema:
                        type: list
                        default: []
                        items:
                          - variable: config_entry
                            label: Config Entry
                            schema:
                              type: dict
                              additional_attrs: true
                              attrs:
                                - variable: key
                                  label: Key
                                  schema:
                                    type: string
                                    required: true
                                    default: ""
                                - variable: value
                                  label: Value
                                  schema:
                                    type: string
                                    required: true
                                    default: ""
  - variable: TZ
    label: Timezone
    group: "General Settings"
    schema:
      type: string
      default: "Etc/UTC"
      $ref:
        - "definitions/timezone"
  - variable: envList
    label: Extra Environment Variables
    description: "Please be aware that some variables are set in the background, adding duplicates here might cause issues or prevent the app from starting..."
    group: "General Settings"
    schema:
      type: list
      default: []
      items:
        - variable: envItem
          label: Environment Variable
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: name
                label: Name
                schema:
                  type: string
              - variable: value
                label: Value
                schema:
                  type: string
  - variable: service
    group: Networking and Services
    label: Configure Service(s)
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: main
          label: Main Service
          description: The Primary service on which the healthcheck runs, often the webUI
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable the Service
                schema:
                  type: boolean
                  default: true
                  hidden: true
              - variable: type
                label: Service Type
                description: "ClusterIP's are only internally available and Loadbalancer exposes the service using the system loadbalancer"
                schema:
                  type: string
                  default: LoadBalancer
                  enum:
                    - value: LoadBalancer
                      description: LoadBalancer (Expose Ports)
                    - value: ClusterIP
                      description: ClusterIP (Do Not Expose Ports)
                    - value: Simple
                      description: Deprecated CHANGE THIS
              - variable: loadBalancerIP
                label: LoadBalancer IP
                description: "MetalLB Only: Selects the Loadbalancer IP to expose on. Required when using PortalButton with MetalLB"
                schema:
                  show_if: [["type", "=", "LoadBalancer"]]
                  type: string
                  default: ""
              - variable: ports
                label: "Service's Port(s) Configuration"
                schema:
                  additional_attrs: true
                  type: dict
                  attrs:
                    - variable: main
                      label: Main Service Port Configuration
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: port
                            label: Port
                            description: This port exposes the container port on the service
                            schema:
                              type: int
                              default: 10265
                              required: true
  - variable: serviceexpert
    group: Networking and Services
    label: Show Expert Config
    schema:
      type: boolean
      default: false
      show_subquestions_if: true
      subquestions:
        - variable: hostNetwork
          group: Networking and Services
          label: Host-Networking (Complicated)
          schema:
            type: boolean
            default: false
        - variable: externalInterfaces
          description: Add External Interfaces
          label: Add external Interfaces
          group: Networking
          schema:
            type: list
            items:
              - variable: interfaceConfiguration
                description: Interface Configuration
                label: Interface Configuration
                schema:
                  type: dict
                  $ref:
                    - "normalize/interfaceConfiguration"
                  attrs:
                    - variable: hostInterface
                      description: Please Specify Host Interface
                      label: Host Interface
                      schema:
                        type: string
                        required: true
                        $ref:
                          - "definitions/interface"
                    - variable: ipam
                      description: Define how IP Address will be managed
                      label: IP Address Management
                      schema:
                        type: dict
                        required: true
                        attrs:
                          - variable: type
                            description: Specify type for IPAM
                            label: IPAM Type
                            schema:
                              type: string
                              required: true
                              enum:
                                - value: dhcp
                                  description: Use DHCP
                                - value: static
                                  description: Use Static IP
                              show_subquestions_if: static
                              subquestions:
                                - variable: staticIPConfigurations
                                  label: Static IP Addresses
                                  schema:
                                    type: list
                                    items:
                                      - variable: staticIP
                                        label: Static IP
                                        schema:
                                          type: ipaddr
                                          cidr: true
                                - variable: staticRoutes
                                  label: Static Routes
                                  schema:
                                    type: list
                                    items:
                                      - variable: staticRouteConfiguration
                                        label: Static Route Configuration
                                        schema:
                                          additional_attrs: true
                                          type: dict
                                          attrs:
                                            - variable: destination
                                              label: Destination
                                              schema:
                                                type: ipaddr
                                                cidr: true
                                                required: true
                                            - variable: gateway
                                              label: Gateway
                                              schema:
                                                type: ipaddr
                                                cidr: false
                                                required: true
        - variable: serviceList
          label: Add Manual Custom Services
          group: Networking and Services
          schema:
            type: list
            default: []
            items:
              - variable: serviceListEntry
                label: Custom Service
                schema:
                  additional_attrs: true
                  type: dict
                  attrs:
                    - variable: enabled
                      label: Enable the service
                      schema:
                        type: boolean
                        default: true
                        hidden: true
                    - variable: name
                      label: Name
                      schema:
                        type: string
                        default: ""
                    - variable: type
                      label: Service Type
                      description: "ClusterIP's are only internally available and Loadbalancer exposes the service using the system loadbalancer"
                      schema:
                        type: string
                        default: LoadBalancer
                        enum:
                          - value: LoadBalancer
                            description: LoadBalancer (Expose Ports)
                          - value: ClusterIP
                            description: ClusterIP (Do Not Expose Ports)
                          - value: Simple
                            description: Deprecated CHANGE THIS
                    - variable: loadBalancerIP
                      label: LoadBalancer IP
                      description: "MetalLB Only: Selects the Loadbalancer IP to expose on. Required when using PortalButton with MetalLB"
                      schema:
                        show_if: [["type", "=", "LoadBalancer"]]
                        type: string
                        default: ""
                    - variable: advancedsvcset
                      label: Show Advanced Service Settings
                      schema:
                        type: boolean
                        default: false
                        show_subquestions_if: true
                        subquestions:
                          - variable: externalIPs
                            label: "External IP's"
                            description: "External IP's"
                            schema:
                              type: list
                              default: []
                              items:
                                - variable: externalIP
                                  label: External IP
                                  schema:
                                    type: string
                          - variable: ipFamilyPolicy
                            label: IP Family Policy
                            description: Specify the IP Policy
                            schema:
                              type: string
                              default: SingleStack
                              enum:
                                - value: SingleStack
                                  description: SingleStack
                                - value: PreferDualStack
                                  description: PreferDualStack
                                - value: RequireDualStack
                                  description: RequireDualStack
                          - variable: ipFamilies
                            label: IP Families
                            description: (Advanced) The IP Families that should be used
                            schema:
                              type: list
                              default: []
                              items:
                                - variable: ipFamily
                                  label: IP Family
                                  schema:
                                    type: string
                    - variable: portsList
                      label: Additional Service Ports
                      schema:
                        type: list
                        default: []
                        items:
                          - variable: portsListEntry
                            label: Custom ports
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: enabled
                                  label: Enable the Port
                                  schema:
                                    type: boolean
                                    default: true
                                    hidden: true
                                - variable: name
                                  label: Port Name
                                  schema:
                                    type: string
                                    default: ""
                                - variable: protocol
                                  label: Port Type
                                  schema:
                                    type: string
                                    default: TCP
                                    enum:
                                      - value: HTTP
                                        description: HTTP
                                      - value: HTTPS
                                        description: HTTPS
                                      - value: TCP
                                        description: TCP
                                      - value: UDP
                                        description: UDP
                                - variable: targetPort
                                  label: Target Port
                                  description: This port exposes the container port on the service
                                  schema:
                                    type: int
                                    required: true
                                - variable: port
                                  label: Container Port
                                  schema:
                                    type: int
                                    required: true
  - variable: persistence
    label: Integrated Persistent Storage
    description: Integrated Persistent Storage
    group: Storage and Persistence
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: config
          label: App Config Storage
          description: Stores the Application Configuration.
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: type
                label: Type of Storage
                description: Sets the persistence type, Anything other than PVC could break rollback!
                schema:
                  type: string
                  default: pvc
                  enum:
                    - value: pvc
                      description: PVC
                    - value: hostPath
                      description: Host Path
                    - value: emptyDir
                      description: emptyDir
                    - value: nfs
                      description: NFS Share
              - variable: server
                label: NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: path
                label: Path on NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: setPermissions
                label: Automatic Permissions
                description: Automatically set permissions on install
                schema:
                  show_if: [["type", "=", "hostPath"]]
                  type: boolean
                  default: false
              - variable: readOnly
                label: Read Only
                schema:
                  type: boolean
                  default: false
              - variable: hostPath
                label: Host Path
                description: Path inside the container the storage is mounted
                schema:
                  show_if: [["type", "=", "hostPath"]]
                  type: hostpath
              - variable: medium
                label: EmptyDir Medium
                schema:
                  show_if: [["type", "=", "emptyDir"]]
                  type: string
                  default: ""
                  enum:
                    - value: ""
                      description: Default
                    - value: Memory
                      description: Memory
              - variable: size
                label: Size quotum of Storage (Do NOT REDUCE after installation)
                description: This value can ONLY be INCREASED after the installation
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: string
                  default: 256Gi
        - variable: reports
          label: App Reports Storage
          description: Stores the Application Reports.
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: type
                label: Type of Storage
                description: Sets the persistence type, Anything other than PVC could break rollback!
                schema:
                  type: string
                  default: pvc
                  enum:
                    - value: pvc
                      description: PVC
                    - value: hostPath
                      description: Host Path
                    - value: emptyDir
                      description: emptyDir
                    - value: nfs
                      description: NFS Share
              - variable: server
                label: NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: path
                label: Path on NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: setPermissions
                label: Automatic Permissions
                description: Automatically set permissions on install
                schema:
                  show_if: [["type", "=", "hostPath"]]
                  type: boolean
                  default: false
              - variable: readOnly
                label: Read Only
                schema:
                  type: boolean
                  default: false
              - variable: hostPath
                label: Host Path
                description: Path inside the container the storage is mounted
                schema:
                  show_if: [["type", "=", "hostPath"]]
                  type: hostpath
              - variable: medium
                label: EmptyDir Medium
                schema:
                  show_if: [["type", "=", "emptyDir"]]
                  type: string
                  default: ""
                  enum:
                    - value: ""
                      description: Default
                    - value: Memory
                      description: Memory
              - variable: size
                label: Size quotum of Storage (Do NOT REDUCE after installation)
                description: This value can ONLY be INCREASED after the installation
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: string
                  default: 256Gi
        - variable: scripts
          label: App Scripts Storage
          description: Stores the Application Scripts.
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: type
                label: Type of Storage
                description: Sets the persistence type, Anything other than PVC could break rollback!
                schema:
                  type: string
                  default: pvc
                  enum:
                    - value: pvc
                      description: PVC
                    - value: hostPath
                      description: Host Path
                    - value: emptyDir
                      description: emptyDir
                    - value: nfs
                      description: NFS Share
              - variable: server
                label: NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: path
                label: Path on NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: setPermissions
                label: Automatic Permissions
                description: Automatically set permissions on install
                schema:
                  show_if: [["type", "=", "hostPath"]]
                  type: boolean
                  default: false
              - variable: readOnly
                label: Read Only
                schema:
                  type: boolean
                  default: false
              - variable: hostPath
                label: Host Path
                description: Path inside the container the storage is mounted
                schema:
                  show_if: [["type", "=", "hostPath"]]
                  type: hostpath
              - variable: medium
                label: EmptyDir Medium
                schema:
                  show_if: [["type", "=", "emptyDir"]]
                  type: string
                  default: ""
                  enum:
                    - value: ""
                      description: Default
                    - value: Memory
                      description: Memory
              - variable: size
                label: Size quotum of Storage (Do NOT REDUCE after installation)
                description: This value can ONLY be INCREASED after the installation
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: string
                  default: 256Gi
        - variable: media
          label: App Media Storage
          description: Stores the Application Media.
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: type
                label: Type of Storage
                description: Sets the persistence type, Anything other than PVC could break rollback!
                schema:
                  type: string
                  default: pvc
                  enum:
                    - value: pvc
                      description: PVC
                    - value: hostPath
                      description: Host Path
                    - value: emptyDir
                      description: emptyDir
                    - value: nfs
                      description: NFS Share
              - variable: server
                label: NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: path
                label: Path on NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: setPermissions
                label: Automatic Permissions
                description: Automatically set permissions on install
                schema:
                  show_if: [["type", "=", "hostPath"]]
                  type: boolean
                  default: false
              - variable: readOnly
                label: Read Only
                schema:
                  type: boolean
                  default: false
              - variable: hostPath
                label: Host Path
                description: Path inside the container the storage is mounted
                schema:
                  show_if: [["type", "=", "hostPath"]]
                  type: hostpath
              - variable: medium
                label: EmptyDir Medium
                schema:
                  show_if: [["type", "=", "emptyDir"]]
                  type: string
                  default: ""
                  enum:
                    - value: ""
                      description: Default
                    - value: Memory
                      description: Memory
              - variable: size
                label: Size quotum of Storage (Do NOT REDUCE after installation)
                description: This value can ONLY be INCREASED after the installation
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: string
                  default: 256Gi
  - variable: persistenceList
    label: Additional App Storage
    group: Storage and Persistence
    schema:
      type: list
      default: []
      items:
        - variable: persistenceListEntry
          label: Custom Storage
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable the storage
                schema:
                  type: boolean
                  default: true
                  hidden: true
              - variable: type
                label: Type of Storage
                description: Sets the persistence type, Anything other than PVC could break rollback!
                schema:
                  type: string
                  default: hostPath
                  enum:
                    - value: pvc
                      description: PVC
                    - value: hostPath
                      description: Host Path
                    - value: emptyDir
                      description: emptyDir
                    - value: nfs
                      description: NFS Share
              - variable: server
                label: NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: path
                label: Path on NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: setPermissions
                label: Automatic Permissions
                description: Automatically set permissions on install
                schema:
                  show_if: [["type", "=", "hostPath"]]
                  type: boolean
                  default: false
              - variable: readOnly
                label: Read Only
                schema:
                  type: boolean
                  default: false
              - variable: hostPath
                label: Host Path
                description: Path inside the container the storage is mounted
                schema:
                  show_if: [["type", "=", "hostPath"]]
                  type: hostpath
              - variable: mountPath
                label: Mount Path
                description: Path inside the container the storage is mounted
                schema:
                  type: string
                  default: ""
                  required: true
                  valid_chars: '^\/([a-zA-Z0-9._-]+(\s?[a-zA-Z0-9._-]+|\/?))+$'
              - variable: medium
                label: EmptyDir Medium
                schema:
                  show_if: [["type", "=", "emptyDir"]]
                  type: string
                  default: ""
                  enum:
                    - value: ""
                      description: Default
                    - value: Memory
                      description: Memory
              - variable: size
                label: Size Quotum of Storage
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: string
                  default: 256Gi
  - variable: ingress
    label: ""
    group: Ingress
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: main
          label: Main Ingress
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable Ingress
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: hosts
                      label: Hosts
                      schema:
                        type: list
                        default: []
                        items:
                          - variable: hostEntry
                            label: Host
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: host
                                  label: HostName
                                  schema:
                                    type: string
                                    default: ""
                                    required: true
                                - variable: paths
                                  label: Paths
                                  schema:
                                    type: list
                                    default: []
                                    items:
                                      - variable: pathEntry
                                        label: Host
                                        schema:
                                          additional_attrs: true
                                          type: dict
                                          attrs:
                                            - variable: path
                                              label: Path
                                              schema:
                                                type: string
                                                required: true
                                                default: "/"
                                            - variable: pathType
                                              label: Path Type
                                              schema:
                                                type: string
                                                required: true
                                                default: Prefix
                    - variable: clusterIssuer
                      label: clusterIssuer
                      description: 'add the name of your cert-manager clusterIssuer here for automatic tls certificates. Cannot be used combined with tls option below'
                      schema:
                        type: string
                        default: ""
                    - variable: tls
                      label: TLS-Settings
                      schema:
                        type: list
                        show_if: [["clusterIssuer", "=", ""]]
                        default: []
                        items:
                          - variable: tlsEntry
                            label: Host
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: hosts
                                  label: Certificate Hosts
                                  schema:
                                    type: list
                                    default: []
                                    items:
                                      - variable: host
                                        label: Host
                                        schema:
                                          type: string
                                          default: ""
                                          required: true

                                - variable: clusterIssuer
                                  label: Use Cert-Manager clusterIssuer
                                  description: 'add the name of your cert-manager clusterIssuer here for automatic tls certificates.'
                                  schema:
                                    type: string
                                    default: ""
                                - variable: scaleCert
                                  label: Use TrueNAS SCALE Certificate (Deprecated)
                                  schema:
                                    show_if: [["clusterIssuer", "=", ""]]
                                    type: int
                                    $ref:
                                      - "definitions/certificate"
                                - variable: secretName
                                  label: Use Custom Secret (Advanced)
                                  schema:
                                    show_if: [["clusterIssuer", "=", ""]]
                                    type: string
                                    default: ""
                    - variable: entrypoint
                      label: (Advanced) Traefik Entrypoint
                      description: Entrypoint used by Traefik when using Traefik as Ingress Provider
                      schema:
                        type: string
                        default: websecure
                        required: true
                    - variable: ingressClassName
                      label: (Advanced/Optional) IngressClass Name
                      schema:
                        type: string
                        default: ""
                    - variable: middlewares
                      label: Traefik Middlewares
                      description: Add previously created Traefik Middlewares to this Ingress
                      schema:
                        type: list
                        default: []
                        items:
                          - variable: name
                            label: Name
                            schema:
                              type: string
                              default: ""
                              required: true
  - variable: ingressList
    label: Add Manual Custom Ingresses
    group: Ingress
    schema:
      type: list
      default: []
      items:
        - variable: ingressListEntry
          label: Custom Ingress
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable Ingress
                schema:
                  type: boolean
                  default: true
                  hidden: true
              - variable: name
                label: Name
                schema:
                  type: string
                  default: ""
              - variable: ingressClassName
                label: IngressClass Name
                schema:
                  type: string
                  default: ""
              - variable: hosts
                label: Hosts
                schema:
                  type: list
                  default: []
                  items:
                    - variable: hostEntry
                      label: Host
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: host
                            label: HostName
                            schema:
                              type: string
                              default: ""
                              required: true
                          - variable: paths
                            label: Paths
                            schema:
                              type: list
                              default: []
                              items:
                                - variable: pathEntry
                                  label: Host
                                  schema:
                                    additional_attrs: true
                                    type: dict
                                    attrs:
                                      - variable: path
                                        label: Path
                                        schema:
                                          type: string
                                          required: true
                                          default: "/"
                                      - variable: pathType
                                        label: Path Type
                                        schema:
                                          type: string
                                          required: true
                                          default: Prefix
                                      - variable: service
                                        label: Linked Service
                                        schema:
                                          additional_attrs: true
                                          type: dict
                                          attrs:
                                            - variable: name
                                              label: Service Name
                                              schema:
                                                type: string
                                                default: ""
                                            - variable: port
                                              label: Service Port
                                              schema:
                                                type: int
              - variable: clusterIssuer
                label: clusterIssuer
                description: 'add the name of your cert-manager clusterIssuer here for automatic tls certificates. Cannot be used combined with tls option below'
                schema:
                  type: string
                  default: ""
              - variable: tls
                label: TLS-Settings
                schema:
                  type: list
                  default: []
                  show_if: [["clusterIssuer", "=", ""]]
                  items:
                    - variable: tlsEntry
                      label: Host
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: hosts
                            label: Certificate Hosts
                            schema:
                              type: list
                              default: []
                              items:
                                - variable: host
                                  label: Host
                                  schema:
                                    type: string
                                    default: ""
                                    required: true
                          - variable: clusterIssuer
                            label: Use Cert-Manager clusterIssuer
                            description: 'add the name of your Cert-Manager clusterIssuer here for automatic tls certificates.'
                            schema:
                              type: string
                              default: ""
                          - variable: scaleCert
                            label: Use TrueNAS SCALE Certificate (Deprecated)
                            schema:
                              show_if: [["clusterIssuer", "=", ""]]
                              type: int
                              $ref:
                                - "definitions/certificate"
                          - variable: secretName
                            label: Use Custom Secret (Advanced)
                            schema:
                              type: string
                              show_if: [["clusterIssuer", "=", ""]]
                              default: ""
              - variable: entrypoint
                label: Traefik Entrypoint
                description: Entrypoint used by Traefik when using Traefik as Ingress Provider
                schema:
                  type: string
                  default: websecure
                  required: true
              - variable: middlewares
                label: Traefik Middlewares
                description: Add previously created Traefik Middlewares to this Ingress
                schema:
                  type: list
                  default: []
                  items:
                    - variable: name
                      label: Name
                      schema:
                        type: string
                        default: ""
                        required: true
  - variable: security
    label: Container Security Settings
    group: Security and Permissions
    schema:
      type: dict
      additional_attrs: true
      attrs:
        - variable: editsecurity
          label: Change PUID / UMASK values
          description: By enabling this you override default set values.
          schema:
            type: boolean
            default: false
            show_subquestions_if: true
            subquestions:
              - variable: PUID
                label: Process User ID - PUID
                description: When supported by the container, this sets the User ID running the Application Process. Not supported by all Apps
                schema:
                  type: int
                  default: 568
              - variable: UMASK
                label: UMASK
                description: When supported by the container, this sets the UMASK for the App. Not supported by all Apps
                schema:
                  type: string
                  default: "002"
  - variable: advancedSecurity
    label: Show Advanced Security Settings
    group: Security and Permissions
    schema:
      type: boolean
      default: false
      show_subquestions_if: true
      subquestions:
        - variable: securityContext
          label: Security Context
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: privileged
                label: Privileged mode
                schema:
                  type: boolean
                  default: false
              - variable: readOnlyRootFilesystem
                label: ReadOnly Root Filesystem
                schema:
                  type: boolean
                  default: false
              - variable: allowPrivilegeEscalation
                label: Allow Privilege Escalation
                schema:
                  type: boolean
                  default: false
              - variable: runAsNonRoot
                label: runAsNonRoot
                schema:
                  type: boolean
                  default: false
  - variable: podSecurityContext
    group: Security and Permissions
    label: Pod Security Context
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: runAsUser
          label: runAsUser
          description: The UserID of the user running the application
          schema:
            type: int
            default: 0
        - variable: runAsGroup
          label: runAsGroup
          description: The groupID this App of the user running the application
          schema:
            type: int
            default: 0
        - variable: fsGroup
          label: fsGroup
          description: The group that should own ALL storage.
          schema:
            type: int
            default: 568
        - variable: fsGroupChangePolicy
          label: "When should we take ownership?"
          schema:
            type: string
            default: OnRootMismatch
            enum:
              - value: OnRootMismatch
                description: OnRootMismatch
              - value: Always
                description: Always
        - variable: supplementalGroups
          label: Supplemental Groups
          schema:
            type: list
            default: []
            items:
              - variable: supplementalGroupsEntry
                label: Supplemental Group
                schema:
                  type: int
  - variable: resources
    group: Resources and Devices
    label: "Resource Limits"
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: limits
          label: Advanced Limit Resource Consumption
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: cpu
                label: CPU
                description: "1000m means 1 hyperthread. Detailed info: https://truecharts.org/docs/manual/SCALE%20Apps/indepth/validation"
                schema:
                  type: string
                  default: 4000m
                  valid_chars: '^(?!^0(\.0|m|)$)([0-9]+)(\.[0-9]|m?)$'
              - variable: memory
                label: RAM
                description: "1Gi means 1 Gibibyte RAM. Detailed info: https://truecharts.org/docs/manual/SCALE%20Apps/indepth/validation"
                schema:
                  type: string
                  default: 8Gi
                  valid_chars: '^(?!^0(e[0-9]|[EPTGMK]i?|)$)([0-9]+)(|[EPTGMK]i?|e[0-9]+)$'
        - variable: requests
          label: "Minimum Resources Required (request)"
          schema:
            additional_attrs: true
            type: dict
            hidden: true
            attrs:
              - variable: cpu
                label: CPU
                description: "1000m means 1 hyperthread. Detailed info: https://truecharts.org/docs/manual/SCALE%20Apps/indepth/validation"
                schema:
                  type: string
                  default: 10m
                  hidden: true
                  valid_chars: '^(?!^0(\.0|m|)$)([0-9]+)(\.[0-9]|m?)$'
              - variable: memory
                label: "RAM"
                description: "1Gi means 1 Gibibyte RAM. Detailed info: https://truecharts.org/docs/manual/SCALE%20Apps/indepth/validation"
                schema:
                  type: string
                  default: 50Mi
                  hidden: true
                  valid_chars: '^(?!^0(e[0-9]|[EPTGMK]i?|)$)([0-9]+)(|[EPTGMK]i?|e[0-9]+)$'
  - variable: deviceList
    label: Mount USB Devices
    group: Resources and Devices
    schema:
      type: list
      default: []
      items:
        - variable: deviceListEntry
          label: Device
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable the Storage
                schema:
                  type: boolean
                  default: true
              - variable: type
                label: (Advanced) Type of Storage
                description: Sets the persistence type
                schema:
                  type: string
                  default: hostPath
                  hidden: true
              - variable: readOnly
                label: readOnly
                schema:
                  type: boolean
                  default: false
              - variable: hostPath
                label: Host Device Path
                description: Path to the device on the host system
                schema:
                  type: path
              - variable: mountPath
                label: Container Device Path
                description: Path inside the container the device is mounted
                schema:
                  type: string
                  default: "/dev/ttyACM0"
  # Specify GPU configuration
  - variable: scaleGPU
    label: GPU Configuration
    group: Resources and Devices
    schema:
      type: dict
      $ref:
        - "definitions/gpuConfiguration"
      attrs: []
  - variable: metrics
    group: Metrics
    label: Prometheus Metrics
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: enabled
          label: Enabled
          description: Enable Prometheus Metrics
          schema:
            type: boolean
            default: true
            show_subquestions_if: true
            subquestions:
              - variable: serviceMonitor
                label: Service Monitor Settings
                schema:
                  additional_attrs: true
                  type: dict
                  attrs:
                    - variable: interval
                      label: Scrape Interval
                      description: Scrape interval time
                      schema:
                        type: string
                        default: 1m
                        required: true
                    - variable: scrapeTimeout
                      label: Scrape Timeout
                      description: Scrape timeout Time
                      schema:
                        type: string
                        default: 30s
                        required: true
#  - variable: horizontalPodAutoscaler
#    group: Advanced
#    label: (Advanced) Horizontal Pod Autoscaler
#    schema:
#      type: list
#      default: []
#      items:
#      - variable: hpaEntry
#        label: HPA Entry
#        schema:
#          additional_attrs: true
#          type: dict
#          attrs:
#            - variable: name
#              label: Name
#              schema:
#                type: string
#                required: true
#                default: ""
#            - variable: enabled
#              label: Enabled
#              schema:
#                type: boolean
#                default: false
#                show_subquestions_if: true
#                subquestions:
#                  - variable: target
#                    label: Target
#                    description: Deployment name, Defaults to Main Deployment
#                    schema:
#                      type: string
#                      default: ""
#                  - variable: minReplicas
#                    label: Minimum Replicas
#                    schema:
#                      type: int
#                      default: 1
#                  - variable: maxReplicas
#                    label: Maximum Replicas
#                    schema:
#                      type: int
#                      default: 5
#                  - variable: targetCPUUtilizationPercentage
#                    label: Target CPU Utilization Percentage
#                    schema:
#                      type: int
#                      default: 80
#                  - variable: targetMemoryUtilizationPercentage
#                    label: Target Memory Utilization Percentage
#                    schema:
#                      type: int
#                      default: 80
  - variable: networkPolicy
    group: Advanced
    label: (Advanced) Network Policy
    schema:
      type: list
      default: []
      items:
      - variable: netPolicyEntry
        label: Network Policy Entry
        schema:
          additional_attrs: true
          type: dict
          attrs:
            - variable: name
              label: Name
              schema:
                type: string
                required: true
                default: ""
            - variable: enabled
              label: Enabled
              schema:
                type: boolean
                default: false
                show_subquestions_if: true
                subquestions:
                  - variable: policyType
                    label: Policy Type
                    schema:
                      type: string
                      default: ""
                      enum:
                        - value: ""
                          description: Default
                        - value: ingress
                          description: Ingress
                        - value: egress
                          description: Egress
                        - value: ingress-egress
                          description: Ingress and Egress
                  - variable: egress
                    label: Egress
                    schema:
                      type: list
                      default: []
                      items:
                        - variable: egressEntry
                          label: ""
                          schema:
                            additional_attrs: true
                            type: dict
                            attrs:
                              - variable: to
                                label: To
                                schema:
                                  type: list
                                  default: []
                                  items:
                                    - variable: toEntry
                                      label: ""
                                      schema:
                                        additional_attrs: true
                                        type: dict
                                        attrs:
                                          - variable: ipBlock
                                            label: IP Block
                                            schema:
                                              additional_attrs: true
                                              type: dict
                                              attrs:
                                                - variable: cidr
                                                  label: CIDR
                                                  schema:
                                                    type: string
                                                    default: ""
                                                - variable: except
                                                  label: Except
                                                  schema:
                                                    type: list
                                                    default: []
                                                    items:
                                                      - variable: exceptint
                                                        label: ""
                                                        schema:
                                                          type: string
                                          - variable: namespaceSelector
                                            label: Namespace Selector
                                            schema:
                                              additional_attrs: true
                                              type: dict
                                              attrs:
                                                - variable: matchExpressions
                                                  label: Match Expressions
                                                  schema:
                                                    type: list
                                                    default: []
                                                    items:
                                                      - variable: expressionEntry
                                                        label: ""
                                                        schema:
                                                          additional_attrs: true
                                                          type: dict
                                                          attrs:
                                                            - variable: key
                                                              label: Key
                                                              schema:
                                                                type: string
                                                            - variable: operator
                                                              label: Operator
                                                              schema:
                                                                type: string
                                                                default: TCP
                                                                enum:
                                                                  - value: In
                                                                    description: In
                                                                  - value: NotIn
                                                                    description: NotIn
                                                                  - value: Exists
                                                                    description: Exists
                                                                  - value: DoesNotExist
                                                                    description: DoesNotExist
                                                            - variable: values
                                                              label: Values
                                                              schema:
                                                                type: list
                                                                default: []
                                                                items:
                                                                  - variable: value
                                                                    label: ""
                                                                    schema:
                                                                      type: string
                                          - variable: podSelector
                                            label: ""
                                            schema:
                                              additional_attrs: true
                                              type: dict
                                              attrs:
                                                - variable: matchExpressions
                                                  label: Match Expressions
                                                  schema:
                                                    type: list
                                                    default: []
                                                    items:
                                                      - variable: expressionEntry
                                                        label: ""
                                                        schema:
                                                          additional_attrs: true
                                                          type: dict
                                                          attrs:
                                                            - variable: key
                                                              label: Key
                                                              schema:
                                                                type: string
                                                            - variable: operator
                                                              label: Operator
                                                              schema:
                                                                type: string
                                                                default: TCP
                                                                enum:
                                                                  - value: In
                                                                    description: In
                                                                  - value: NotIn
                                                                    description: NotIn
                                                                  - value: Exists
                                                                    description: Exists
                                                                  - value: DoesNotExist
                                                                    description: DoesNotExist
                                                            - variable: values
                                                              label: Values
                                                              schema:
                                                                type: list
                                                                default: []
                                                                items:
                                                                  - variable: value
                                                                    label: ""
                                                                    schema:
                                                                      type: string
                              - variable: ports
                                label: Ports
                                schema:
                                  type: list
                                  default: []
                                  items:
                                    - variable: portsEntry
                                      label: ""
                                      schema:
                                        additional_attrs: true
                                        type: dict
                                        attrs:
                                          - variable: port
                                            label: Port
                                            schema:
                                              type: int
                                          - variable: endPort
                                            label: End Port
                                            schema:
                                              type: int
                                          - variable: protocol
                                            label: Protocol
                                            schema:
                                              type: string
                                              default: TCP
                                              enum:
                                                - value: TCP
                                                  description: TCP
                                                - value: UDP
                                                  description: UDP
                                                - value: SCTP
                                                  description: SCTP
                  - variable: ingress
                    label: Ingress
                    schema:
                      type: list
                      default: []
                      items:
                        - variable: ingressEntry
                          label: ""
                          schema:
                            additional_attrs: true
                            type: dict
                            attrs:
                              - variable: from
                                label: From
                                schema:
                                  type: list
                                  default: []
                                  items:
                                    - variable: fromEntry
                                      label: ""
                                      schema:
                                        additional_attrs: true
                                        type: dict
                                        attrs:
                                          - variable: ipBlock
                                            label: IP Block
                                            schema:
                                              additional_attrs: true
                                              type: dict
                                              attrs:
                                                - variable: cidr
                                                  label: CIDR
                                                  schema:
                                                    type: string
                                                    default: ""
                                                - variable: except
                                                  label: Except
                                                  schema:
                                                    type: list
                                                    default: []
                                                    items:
                                                      - variable: exceptint
                                                        label: ""
                                                        schema:
                                                          type: string
                                          - variable: namespaceSelector
                                            label: Namespace Selector
                                            schema:
                                              additional_attrs: true
                                              type: dict
                                              attrs:
                                                - variable: matchExpressions
                                                  label: Match Expressions
                                                  schema:
                                                    type: list
                                                    default: []
                                                    items:
                                                      - variable: expressionEntry
                                                        label: ""
                                                        schema:
                                                          additional_attrs: true
                                                          type: dict
                                                          attrs:
                                                            - variable: key
                                                              label: Key
                                                              schema:
                                                                type: string
                                                            - variable: operator
                                                              label: Operator
                                                              schema:
                                                                type: string
                                                                default: TCP
                                                                enum:
                                                                  - value: In
                                                                    description: In
                                                                  - value: NotIn
                                                                    description: NotIn
                                                                  - value: Exists
                                                                    description: Exists
                                                                  - value: DoesNotExist
                                                                    description: DoesNotExist
                                                            - variable: values
                                                              label: Values
                                                              schema:
                                                                type: list
                                                                default: []
                                                                items:
                                                                  - variable: value
                                                                    label: ""
                                                                    schema:
                                                                      type: string
                                          - variable: podSelector
                                            label: ""
                                            schema:
                                              additional_attrs: true
                                              type: dict
                                              attrs:
                                                - variable: matchExpressions
                                                  label: Match Expressions
                                                  schema:
                                                    type: list
                                                    default: []
                                                    items:
                                                      - variable: expressionEntry
                                                        label: ""
                                                        schema:
                                                          additional_attrs: true
                                                          type: dict
                                                          attrs:
                                                            - variable: key
                                                              label: Key
                                                              schema:
                                                                type: string
                                                            - variable: operator
                                                              label: Operator
                                                              schema:
                                                                type: string
                                                                default: TCP
                                                                enum:
                                                                  - value: In
                                                                    description: In
                                                                  - value: NotIn
                                                                    description: NotIn
                                                                  - value: Exists
                                                                    description: Exists
                                                                  - value: DoesNotExist
                                                                    description: DoesNotExist
                                                            - variable: values
                                                              label: Values
                                                              schema:
                                                                type: list
                                                                default: []
                                                                items:
                                                                  - variable: value
                                                                    label: ""
                                                                    schema:
                                                                      type: string
                              - variable: ports
                                label: Ports
                                schema:
                                  type: list
                                  default: []
                                  items:
                                    - variable: portsEntry
                                      label: ""
                                      schema:
                                        additional_attrs: true
                                        type: dict
                                        attrs:
                                          - variable: port
                                            label: Port
                                            schema:
                                              type: int
                                          - variable: endPort
                                            label: End Port
                                            schema:
                                              type: int
                                          - variable: protocol
                                            label: Protocol
                                            schema:
                                              type: string
                                              default: TCP
                                              enum:
                                                - value: TCP
                                                  description: TCP
                                                - value: UDP
                                                  description: UDP
                                                - value: SCTP
                                                  description: SCTP
  - variable: addons
    group: Addons
    label: ""
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: codeserver
          label: Codeserver
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enabled
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: git
                      label: Git Settings
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: deployKey
                            description: Raw SSH Private Key
                            label: Deploy Key
                            schema:
                              type: string
                          - variable: deployKeyBase64
                            description: Base64-encoded SSH private key. When both variables are set, the raw SSH key takes precedence
                            label: Deploy Key Base64
                            schema:
                              type: string
                    - variable: service
                      label: ""
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: type
                            label: Service Type
                            description: "ClusterIP's are only internally available and Loadbalancer exposes the service using the system loadbalancer"
                            schema:
                              type: string
                              default: LoadBalancer
                              enum:
                                - value: NodePort
                                  description: Deprecated CHANGE THIS
                                - value: ClusterIP
                                  description: ClusterIP
                                - value: LoadBalancer
                                  description: LoadBalancer
                          - variable: loadBalancerIP
                            label: LoadBalancer IP
                            description: "MetalLB Only: Selects the Loadbalancer IP to expose on. Required when using PortalButton with MetalLB"
                            schema:
                              show_if: [["type", "=", "LoadBalancer"]]
                              type: string
                              default: ""
                          - variable: advancedsvcset
                            label: Show Advanced Service Settings
                            schema:
                              type: boolean
                              default: false
                              show_subquestions_if: true
                              subquestions:
                                - variable: externalIPs
                                  label: "External IP's"
                                  description: "External IP's"
                                  schema:
                                    type: list
                                    default: []
                                    items:
                                      - variable: externalIP
                                        label: External IP
                                        schema:
                                          type: string
                                - variable: ipFamilyPolicy
                                  label: IP Family Policy
                                  description: Specify the IP Policy
                                  schema:
                                    type: string
                                    default: SingleStack
                                    enum:
                                      - value: SingleStack
                                        description: SingleStack
                                      - value: PreferDualStack
                                        description: PreferDualStack
                                      - value: RequireDualStack
                                        description: RequireDualStack
                                - variable: ipFamilies
                                  label: IP Families
                                  description: (Advanced) The IP Families that should be used
                                  schema:
                                    type: list
                                    default: []
                                    items:
                                      - variable: ipFamily
                                        label: IP Family
                                        schema:
                                          type: string
                          - variable: ports
                            label: ""
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: codeserver
                                  label: ""
                                  schema:
                                    additional_attrs: true
                                    type: dict
                                    attrs:
                                      - variable: port
                                        label: Port
                                        schema:
                                          type: int
                                          default: 36107
                                      - variable: nodePort
                                        description: Leave Empty to Disable
                                        label: nodePort DEPRECATED
                                        schema:
                                          type: int
                                          default: 36107
                    - variable: envList
                      label: Codeserver Environment Variables
                      schema:
                        type: list
                        show_if: [["type", "!=", "disabled"]]
                        default: []
                        items:
                          - variable: envItem
                            label: Environment Variable
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: name
                                  label: Name
                                  schema:
                                    type: string
                                    required: true
                                - variable: value
                                  label: Value
                                  schema:
                                    type: string
                                    required: true
        - variable: vpn
          label: VPN
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: type
                label: Type
                schema:
                  type: string
                  default: disabled
                  enum:
                    - value: disabled
                      description: disabled
                    - value: openvpn
                      description: OpenVPN
                    - value: wireguard
                      description: Wireguard
                    - value: tailscale
                      description: Tailscale
              - variable: openvpn
                label: OpenVPN Settings
                schema:
                  type: dict
                  show_if: [["type", "=", "openvpn"]]
                  attrs:
                    - variable: username
                      label: Authentication Username (Optional)
                      description: Authentication Username, Optional
                      schema:
                        type: string
                        default: ""
                    - variable: password
                      label: Authentication Password
                      description: Authentication Credentials
                      schema:
                        type: string
                        default: ""
                        required: true
              - variable: tailscale
                label: Tailscale Settings
                schema:
                  type: dict
                  show_if: [["type", "=", "tailscale"]]
                  attrs:
                    - variable: authkey
                      label: Authentication Key
                      description: Provide an auth key to automatically authenticate the node as your user account.
                      schema:
                        type: string
                        private: true
                        default: ""
                    - variable: auth_once
                      label: Auth Once
                      description: Only attempt to log in if not already logged in.
                      schema:
                        type: boolean
                        default: true
                    - variable: accept_dns
                      label: Accept DNS
                      description: Accept DNS configuration from the admin console.
                      schema:
                        type: boolean
                        default: false
                    - variable: userspace
                      label: Userspace
                      description: Userspace Networking mode allows running Tailscale where you do not have access to create a VPN tunnel device.
                      schema:
                        type: boolean
                        default: false
                    - variable: routes
                      label: Routes
                      description: Expose physical subnet routes to your entire Tailscale network.
                      schema:
                        type: string
                        default: ""
                    - variable: dest_ip
                      label: Destination IP
                      description: Tells the DNAT mechanism which Destination IP to set in the IP header, and where to send packets that are matched.
                      schema:
                        type: string
                        default: ""
                    - variable: sock5_server
                      label: Sock5 Server
                      description: The address on which to listen for SOCKS5 proxying into the tailscale net.
                      schema:
                        type: string
                        default: ""
                    - variable: outbound_http_proxy_listen
                      label: Outbound HTTP Proxy Listen
                      description: The address on which to listen for HTTP proxying into the tailscale net.
                      schema:
                        type: string
                        default: ""
                    - variable: extra_args
                      label: Extra Args
                      description: Extra Args
                      schema:
                        type: string
                        default: ""
                    - variable: daemon_extra_args
                      label: Tailscale Daemon Extra Args
                      description: Tailscale Daemon Extra Args
                      schema:
                        type: string
                        default: ""
              - variable: killSwitch
                label: Enable Killswitch
                schema:
                  type: boolean
                  show_if: [["type", "!=", "disabled"]]
                  default: true
              - variable: excludedNetworks_IPv4
                label: Killswitch Excluded IPv4 networks
                description: List of Killswitch Excluded IPv4 Addresses
                schema:
                  type: list
                  show_if: [["type", "!=", "disabled"]]
                  default: []
                  items:
                    - variable: networkv4
                      label: IPv4 Network
                      schema:
                        type: string
                        required: true
              - variable: excludedNetworks_IPv6
                label: Killswitch Excluded IPv6 networks
                description: "List of Killswitch Excluded IPv6 Addresses"
                schema:
                  type: list
                  show_if: [["type", "!=", "disabled"]]
                  default: []
                  items:
                    - variable: networkv6
                      label: IPv6 Network
                      schema:
                        type: string
                        required: true
              - variable: configFile
                label: VPN Config File Location
                schema:
                  type: dict
                  show_if: [["type", "!=", "disabled"]]
                  attrs:
                    - variable: enabled
                      label: Enabled
                      schema:
                        type: boolean
                        default: true
                        hidden: true
                    - variable: type
                      label: Type
                      schema:
                        type: string
                        default: hostPath
                        hidden: true
                    - variable: hostPathType
                      label: hostPathType
                      schema:
                        type: string
                        default: File
                        hidden: true
                    - variable: noMount
                      label: noMount
                      schema:
                        type: boolean
                        default: true
                        hidden: true
                    - variable: hostPath
                      label: Full Path to File
                      description: "Path to your local VPN config file for example: /mnt/tank/vpn.conf or /mnt/tank/vpn.ovpn"
                      schema:
                        type: string
                        default: ""
              - variable: envList
                label: VPN Environment Variables
                schema:
                  type: list
                  show_if: [["type", "!=", "disabled"]]
                  default: []
                  items:
                    - variable: envItem
                      label: Environment Variable
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: name
                            label: Name
                            schema:
                              type: string
                              required: true
                          - variable: value
                            label: Value
                            schema:
                              type: string
                              required: true
  - variable: docs
    group: Documentation
    label: Please read the documentation at https://truecharts.org
    description: Please read the documentation at
      <br /><a href="https://truecharts.org">https://truecharts.org</a>
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: confirmDocs
          label: I have checked the documentation
          schema:
            type: boolean
            default: true
  - variable: donateNag
    group: Documentation
    label: Please consider supporting TrueCharts, see https://truecharts.org/sponsor
    description: Please consider supporting TrueCharts, see
      <br /><a href="https://truecharts.org/sponsor">https://truecharts.org/sponsor</a>
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: confirmDonate
          label: I have considered donating
          schema:
            type: boolean
            default: true
            hidden: true
